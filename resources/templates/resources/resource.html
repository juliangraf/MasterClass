{% extends "resources/base_output.html" %}
{% load static %}

{% block head %}
    <link href='{% static 'fullcalendar/core/main.css' %}' rel='stylesheet' />
    <link href='{% static 'fullcalendar/daygrid/main.css' %}' rel='stylesheet' />
    <link href='{% static 'fullcalendar/timegrid/main.css' %}' rel='stylesheet' />
    <link href='{% static 'fontawesome/css/all.css' %}' rel="stylesheet">
{% endblock %}

{% block content %}
<div class="resource-container">
  <div class="resource-object-row">
    <div class="resource-object">
      <div class="resource-role">{{ resource.role }}</div>
      <label class="resource-label">{{ resource.label }}</label>
      {% if resource.description %}
        <div class="resource-description">{{ resource.description }}</div>
      {% endif %}
    </div>
    {% if editable %}
      <button class="edit-resource"><i class="far fa-edit"></i></button>
      <button class="delete-resource"><i class="far fa-trash"></i></button>
    {% endif %}
  </div>

  {% if resource.dependencies %}
    <ul class="resource-dependencies">
    {% for dependency in resource.dependencies.all %}
      <li class="resource resource-object-row">
        <a href="{% url 'resource' dependency.id %}">
          <div class="resource-dependency">
            <label class="resource-label">{{ dependency.label }}</label>
          </div>
        </a>
        {% if editable %}
          <button class="remove-dependency"><i class="far fa-minus"></i></button>
        {% endif %}
      </li>
    {% endfor %}
    {% if editable %}
      <li class="resource-object-row">
        <div class="resource-drop-zone">
          <i class="far fa-plus"></i>
          <div>Abhängigkeit hinzufügen</div>
        </div>
      </li>
    {% endif %}
    </ul>
  {% endif %}

  {% if parents %}
    <header>erscheint in:</header>
    <ul>
      {% for parent in parents %}
        <li class="resource resource-object-row">
          <a href="{% url 'resource' parent.id %}">
            <div class="resource-dependency">
              <label class="resource-label">{{ parent.label }}</label>
            </div>
          </a>
        </li>
      {% endfor %}
    </ul>
  {% endif %}
</div>
{% endblock %}
